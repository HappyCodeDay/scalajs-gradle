group 'com.github.gtache'
version '1.0-SNAPSHOT'

apply plugin: 'scalajs-plugin'

sourceCompatibility = 1.8

repositories {
    mavenCentral()
}

buildscript {
    repositories {
		mavenLocal()
		mavenCentral()
    }
    dependencies {
		classpath 'com.github.gtache:scalajs-plugin:0.2.0'
    }
}

dependencies {
	compile group: 'com.lihaoyi', name: 'scalatags_sjs0.6_2.11', version: '0.5.4'
    testCompile group: 'org.scalactic', name: 'scalactic_sjs0.6_2.11', version: '3.0.0-SNAP13'
    testCompile group: 'org.scalatest', name: 'scalatest_sjs0.6_2.11', version: '3.0.0-SNAP13'
    testCompile group: 'junit', name: 'junit', version: '4.12'
    testCompile group: 'org.scala-js', name: 'scalajs-junit-test-runtime_2.11', version: '0.6.9'
    testCompile group: 'org.scala-js', name: 'scalajs-junit-test-plugin_2.11.8', version: '0.6.9'
}

defaultTasks += 'FastOptJS'

task wrapper(type: Wrapper){
	gradleVersion = '2.11'
}

task extTest(type: TestJS.class){
}
extTest.dependsOn('FastOptJS')

task afterTest<<{
    println('bla')
}
afterTest.dependsOn('TestJS')